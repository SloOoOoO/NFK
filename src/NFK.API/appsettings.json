{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=NFK;User Id=sa;Password=YourStrong!Passw0rd;TrustServerCertificate=True;MultipleActiveResultSets=true",
    "Redis": "localhost:6379"
  },
  "Jwt": {
    "Issuer": "NFK.API",
    "Audience": "NFK.Client",
    "Secret": "ThisIsAVeryLongSecretKeyForJWTTokenGenerationAtLeast32Characters!",
    "PrivateKey": "",
    "PublicKey": "",
    "AccessTokenExpirationMinutes": 15,
    "RefreshTokenExpirationDays": 7
  },
  "OAuth": {
    "Google": {
      "ClientId": "",
      "ClientSecret": "",
      "Enabled": false,
      "_ConfigurationHelp": {
        "_Comment": "⚠️ SECURITY: Do NOT commit OAuth secrets to version control!",
        "EnvironmentVariables": {
          "ClientId": "GOOGLE_CLIENT_ID",
          "ClientSecret": "GOOGLE_CLIENT_SECRET",
          "Enabled": "GOOGLE_OAUTH_ENABLED"
        },
        "Setup": {
          "Step1": "Go to https://console.cloud.google.com/apis/credentials",
          "Step2": "Create OAuth 2.0 Client ID for Web application",
          "Step3": "Add authorized redirect URIs:",
          "RedirectURIs": {
            "Development": "http://localhost:8080/api/v1/auth/google/callback",
            "Production": "https://your-domain.com/api/v1/auth/google/callback"
          },
          "Step4": "Set environment variables GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET",
          "Step5": "Set GOOGLE_OAUTH_ENABLED=true to enable Google SSO"
        },
        "URLs": {
          "AuthorizationEndpoint": "https://accounts.google.com/o/oauth2/v2/auth",
          "TokenEndpoint": "https://oauth2.googleapis.com/token",
          "UserInfoEndpoint": "https://www.googleapis.com/oauth2/v2/userinfo"
        }
      }
    },
    "DATEV": {
      "ClientId": "",
      "ClientSecret": "",
      "AuthorizationEndpoint": "https://login.datev.de/openid/authorize",
      "TokenEndpoint": "https://login.datev.de/openid/token",
      "UserInfoEndpoint": "https://login.datev.de/openid/userinfo",
      "Scope": "openid profile email datev:accounting",
      "Enabled": false,
      "_ConfigurationHelp": {
        "_Comment": "⚠️ SECURITY: Do NOT commit OAuth secrets to version control!",
        "EnvironmentVariables": {
          "ClientId": "DATEV_CLIENT_ID",
          "ClientSecret": "DATEV_CLIENT_SECRET",
          "Enabled": "DATEV_OAUTH_ENABLED"
        },
        "Setup": {
          "Step1": "Contact DATEV to register your application at https://developer.datev.de/",
          "Step2": "Request OAuth 2.0 credentials for your tax consulting firm",
          "Step3": "Configure redirect URIs:",
          "RedirectURIs": {
            "Development": "http://localhost:8080/api/v1/auth/datev/callback",
            "Production": "https://your-domain.com/api/v1/auth/datev/callback"
          },
          "Step4": "Set environment variables DATEV_CLIENT_ID and DATEV_CLIENT_SECRET",
          "Step5": "Set DATEV_OAUTH_ENABLED=true to enable DATEV SSO",
          "Note": "DATEV SSO is only available for certified tax consultants and accounting firms in Germany"
        }
      }
    }
  },
  "DATEV": {
    "Sftp": {
      "Host": "",
      "Port": 22,
      "Username": "",
      "Password": ""
    },
    "ExportPath": "/datev-exports"
  },
  "Email": {
    "SendGrid": {
      "ApiKey": "",
      "FromEmail": "info@nfk-buchhaltung.de",
      "FromName": "NFK Buchhaltung"
    },
    "Smtp": {
      "Host": "",
      "Port": 587,
      "Username": "info@nfk-buchhaltung.de",
      "Password": "",
      "EnableSsl": true,
      "FromEmail": "info@nfk-buchhaltung.de",
      "FromName": "NFK Buchhaltung"
    },
    "Provider": "Smtp"
  },
  "Frontend": {
    "Url": "http://localhost:5173"
  },
  "Storage": {
    "AzureBlob": {
      "ConnectionString": "",
      "ContainerName": "documents"
    },
    "LocalPath": "/uploads"
  },
  "Security": {
    "MaxFailedLoginAttempts": 5,
    "AccountLockoutMinutes": 30
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      { "Name": "Console" },
      {
        "Name": "File",
        "Args": {
          "path": "logs/nfk-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 7
        }
      }
    ]
  }
}
